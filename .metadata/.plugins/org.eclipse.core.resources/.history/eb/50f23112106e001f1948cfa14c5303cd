/*
 * com.h
 *
 *  Created on: 10 Dec 2019
 *      Author: RvRijn
 */

#ifndef COM_H_
#define COM_H_


#define ReceiveCommandSize 5
#define ReceiveSize 12


//prevent creating 2 lines per command memory location
//https://stackoverflow.com/questions/17850998/initializing-a-pointer-to-an-array-of-integers
//https://stackoverflow.com/questions/10628256/initializing-array-of-integer-pointer-in-c

char bufferH_[ReceiveSize];				//physical location of data being handled
void *BufferH;							//pointer to location of data being handled

char BufferR_[ReceiveSize];				//physical location of UART receiving data
void *BufferR;							//pointer to receiving data

char CommandInternal_[ReceiveSize];		//physical location of internal command data
void *CommandInternal;					//pointer to receiving data

char Buffer_packet_Location[ReceiveCommandSize][ReceiveSize];	//physical location of buffered packets
void*	commandStack[ReceiveCommandSize];						//pointer to buffered packets

void InitCom();

bool R_bufferFull();

bool R_bufferEmpty();

bool R_Push(void** Buffer_p);

bool R_Pop(void** Command_p);

void Transmit(void *bufferT, uint8_t Length_p, USART_TypeDef* USART_P);

#endif /* COM_H_ */
